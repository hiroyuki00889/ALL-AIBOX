<mxfile host="65bd71144e">
    <diagram id="9ucJxSqqLEflozJvduEJ" name="フォルダ・ファイル構造">
        <mxGraphModel dx="346" dy="427" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="13" value="lib" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="460" y="130" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="13" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="490" y="500" as="sourcePoint"/>
                        <mxPoint x="530" y="170" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="15" value="LoginRelated：ログイン等認証関係" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="520" y="210" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="" style="endArrow=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="15" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="490" y="225" as="sourcePoint"/>
                        <mxPoint x="540" y="140" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="19" value="" style="endArrow=none;html=1;entryX=0.142;entryY=1.022;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="15" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="553" y="320" as="sourcePoint"/>
                        <mxPoint x="870" y="230" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="20" value="" style="endArrow=none;html=1;" parent="1" target="21" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="560" y="260" as="sourcePoint"/>
                        <mxPoint x="600" y="260" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="21" value="SplashScreen.dart：スプラッシュ画面" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="570" y="245" width="220" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="" style="endArrow=none;html=1;" parent="1" target="23" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="490" y="180" as="sourcePoint"/>
                        <mxPoint x="530" y="180" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="23" value="main.dart" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="500" y="165" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="24" value="" style="endArrow=none;html=1;" parent="1" target="25" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="560" y="290" as="sourcePoint"/>
                        <mxPoint x="570" y="290" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="25" value="LoginScreen.dart：ログイン画面" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="570" y="275" width="210" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="26" value="" style="endArrow=none;html=1;" parent="1" target="27" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="560" y="320" as="sourcePoint"/>
                        <mxPoint x="580" y="320" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="27" value="NewRegistrationScreen.dart：新規登録画面" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="570" y="305" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="28" value="" style="endArrow=none;html=1;" parent="1" target="29" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="490" y="360" as="sourcePoint"/>
                        <mxPoint x="520" y="360" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="29" value="BuddyChat" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="510" y="345" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" target="29" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="540" y="420" as="sourcePoint"/>
                        <mxPoint x="880" y="190" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="32" value="SettingsScreen.dart" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="520" y="465" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="34" value="BuddyChatScreen.dart" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="575" y="370" width="125" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="" style="endArrow=none;html=1;" parent="1" target="36" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="540" y="415" as="sourcePoint"/>
                        <mxPoint x="570" y="450" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="36" value="PastBuddyChatScreen.dart" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="575" y="400" width="155" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="" style="endArrow=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="34" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="540" y="385" as="sourcePoint"/>
                        <mxPoint x="880" y="280" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="38" value="" style="endArrow=none;html=1;" parent="1" target="39" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="490" y="450" as="sourcePoint"/>
                        <mxPoint x="540" y="450" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="39" value="HomeScreen.dart" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="520" y="435" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="" style="endArrow=none;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="32" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="490" y="480" as="sourcePoint"/>
                        <mxPoint x="880" y="280" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="41" value="&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;lib&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|- main.dart&amp;nbsp; # アプリのエントリーポイント&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|- core/&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|- theme.dart&amp;nbsp; # アプリのテーマ管理&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|- router.dart&amp;nbsp; # 画面遷移を一元管理（go_routerを利用する場合など）&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|- data/&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|- models/&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- user.dart&amp;nbsp; # ユーザー情報のデータモデル&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- chat_message.dart&amp;nbsp; # チャットメッセージのデータモデル&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|- services/&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- auth_service.dart&amp;nbsp; # 認証関連の処理（Firebase, Hive等）&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- chat_service.dart&amp;nbsp; # チャットの送受信や保存処理&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- hive_service.dart&amp;nbsp; # Hiveデータ管理&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|- logic/&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|- providers/&amp;nbsp; # Provider, Riverpod, Bloc などの状態管理&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- auth_provider.dart&amp;nbsp; # ログイン状態を管理&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- chat_provider.dart&amp;nbsp; # チャットデータを管理&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|- presentation/&amp;nbsp; # UIに関するフォルダ&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|- screens/&amp;nbsp; # 画面ごとに分割&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- auth/&amp;nbsp; # 認証関連の画面&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- login_screen.dart&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- new_registration_screen.dart&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- splash_screen.dart&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- home/&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- home_screen.dart&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- chat/&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- buddy_chat_screen.dart&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- past_buddy_chat_screen.dart&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- settings/&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- settings_screen.dart&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|- widgets/&amp;nbsp; # 再利用可能なUIコンポーネントをまとめる&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- chat_bubble.dart&amp;nbsp; # チャットメッセージの吹き出し&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;|&amp;nbsp; &amp;nbsp;|&amp;nbsp; &amp;nbsp;|- custom_button.dart&amp;nbsp; # 共通ボタン&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="20" y="70" width="420" height="475" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="aRfhFLT_BcshqjKr9_iO" name="データフロー図">
        <mxGraphModel dx="1312" dy="1596" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-1" value="TaskTableScreen.dartデータフロー図" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="580" y="640" width="220" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-8" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="pfKSe6MhSHscrfDLDIdz-2" target="pfKSe6MhSHscrfDLDIdz-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-2" value="Result.dart&lt;br&gt;adviceText" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="590" y="700" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-10" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="pfKSe6MhSHscrfDLDIdz-3" target="pfKSe6MhSHscrfDLDIdz-9" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-3" value="TaskTable...dart&lt;br&gt;(wigitStateful)advice" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="750" y="700" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-12" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.16;entryY=0.55;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="pfKSe6MhSHscrfDLDIdz-9" target="pfKSe6MhSHscrfDLDIdz-11" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-9" value="callClaudeプロンプトwigit.advice" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="750" y="780" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-17" style="edgeStyle=none;html=1;exitX=0.13;exitY=0.77;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="pfKSe6MhSHscrfDLDIdz-11" target="pfKSe6MhSHscrfDLDIdz-13" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-11" value="ClaudeAPI" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="900" y="770" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-22" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="pfKSe6MhSHscrfDLDIdz-13" target="pfKSe6MhSHscrfDLDIdz-21" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-13" value="callClaude&lt;br&gt;tasks[]" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="750" y="860" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-19" style="edgeStyle=none;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;fontSize=12;" parent="1" source="pfKSe6MhSHscrfDLDIdz-18" target="pfKSe6MhSHscrfDLDIdz-13" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-18" value="extractTasks(rawText)" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="910" y="860" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-20" value="タスク表抽出関数" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1040" y="860" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-21" value="Build&lt;br&gt;ListView,Card" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="750" y="950" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-23" value="ProcessDiagramScreen.dartデータフロー図" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="10" y="640" width="250" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-26" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="pfKSe6MhSHscrfDLDIdz-24" target="pfKSe6MhSHscrfDLDIdz-25" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-24" value="Result.dart&lt;br&gt;adviceText" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="20" y="700" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-25" value="ProcessDiagram…dart&lt;br&gt;wigit.advice&lt;br&gt;questionsAndChoices" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="190" y="700" width="130" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-28" style="edgeStyle=none;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="pfKSe6MhSHscrfDLDIdz-27" target="pfKSe6MhSHscrfDLDIdz-25" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-27" value="Hive.dart" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="370" y="700" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="pfKSe6MhSHscrfDLDIdz-29" value="q...AndC...から質問と選択を分けて？構造図として表示する" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="270" y="660" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-1" value="claude_api_service.dart　データフロー図" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="20" y="10" width="290" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-17" value="&amp;lt;&amp;lt; interface &amp;gt;&amp;gt;&lt;div&gt;CustomApiService&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="880" y="240" width="320" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-19" value="Item 2" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-17" vertex="1">
                    <mxGeometry y="30" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-20" value="&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;Futer&amp;lt;String&amp;gt; sendMessage(String message) async { }&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-17" vertex="1">
                    <mxGeometry y="60" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-30" value="&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;Futer&amp;lt;String&amp;gt; sendMessage(String message) async { }&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-17" vertex="1">
                    <mxGeometry y="90" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-25" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="JVTlXHw-7Xtz8h1ackMm-21" target="JVTlXHw-7Xtz8h1ackMm-17" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-21" value="claude_api_service" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="880" y="40" width="320" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-22" value="Item 1" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-21" vertex="1">
                    <mxGeometry y="30" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-23" value="Item 2" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-21" vertex="1">
                    <mxGeometry y="60" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-24" value="Item 3" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-21" vertex="1">
                    <mxGeometry y="90" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-31" value="機能：相談メッセージ文章からプロンプトの文章と使用する変数、保存する変数を変えたAPI通信関数を実行する" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="710" y="10" width="610" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-32" value="実装するプロンプト：&lt;div&gt;・相談の深刻度が高いとき、話を聞くようにするプロンプト&lt;/div&gt;&lt;div&gt;・話し相手として話しかけた時、話を続けるようにするプロンプト&lt;/div&gt;&lt;div&gt;・悩みの解決を求めているとき、助言をするプロンプト&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;処理手順：&lt;/div&gt;&lt;div&gt;・メッセージの文章から３つのプロンプトのどれを使うかの判断のプロンプトを送って、帰ってきた結果からもう一度プロンプトとメッセージを送る&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="1320" y="40" width="330" height="250" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-4" value="" style="swimlane;startSize=0;" parent="1" vertex="1">
                    <mxGeometry x="10" y="40" width="760" height="380" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-5" value="クラスclaude_api_service" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="JVTlXHw-7Xtz8h1ackMm-4" vertex="1">
                    <mxGeometry width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-2" value="プロンプト文章A" style="rounded=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-4" vertex="1">
                    <mxGeometry x="420" y="320" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-15" value="プロンプト文章B" style="rounded=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-4" vertex="1">
                    <mxGeometry x="540" y="320" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="JVTlXHw-7Xtz8h1ackMm-16" value="相談メッセージ" style="rounded=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-4" vertex="1">
                    <mxGeometry x="300" y="320" width="110" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-1" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Futer&amp;lt;String&amp;gt; sendMessage(String message) async { }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br style=&quot;color: rgb(63, 63, 63);&quot;&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;align=center;" parent="JVTlXHw-7Xtz8h1ackMm-4" vertex="1">
                    <mxGeometry x="20" y="240" width="230" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-2" value="f Map&amp;lt;S, S&amp;gt; headers" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="lz9357n2-lCbHssZZ0-b-1" vertex="1">
                    <mxGeometry y="40" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-3" value="f body = jsonEncode" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="lz9357n2-lCbHssZZ0-b-1" vertex="1">
                    <mxGeometry y="70" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-5" value="&lt;div&gt;String selectAppropriatePrompt(String latestMessage, List&amp;lt;Map&amp;lt;String, dynamic&amp;gt;&amp;gt; history)&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-4" vertex="1">
                    <mxGeometry x="20" y="40" width="230" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-6" value="bool isSerious" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="lz9357n2-lCbHssZZ0-b-5" vertex="1">
                    <mxGeometry y="40" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-7" value="bool isSeekingAdvice" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="lz9357n2-lCbHssZZ0-b-5" vertex="1">
                    <mxGeometry y="70" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-8" value="bool isCasualConversation" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="lz9357n2-lCbHssZZ0-b-5" vertex="1">
                    <mxGeometry y="100" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-46" style="edgeStyle=none;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="JVTlXHw-7Xtz8h1ackMm-4" source="lz9357n2-lCbHssZZ0-b-21" target="lz9357n2-lCbHssZZ0-b-6" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-21" value="&lt;div&gt;bool analyzeIfSerious(String message, List&amp;lt;Map&amp;lt;String, dynamic&amp;gt;&amp;gt; history)&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-4" vertex="1">
                    <mxGeometry x="330" y="40" width="230" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-22" value="List&amp;lt;String&amp;gt; seriousKeywords" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="lz9357n2-lCbHssZZ0-b-21" vertex="1">
                    <mxGeometry y="30" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-47" style="edgeStyle=none;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="JVTlXHw-7Xtz8h1ackMm-4" source="lz9357n2-lCbHssZZ0-b-25" target="lz9357n2-lCbHssZZ0-b-7" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-25" value="&lt;div&gt;bool analyzeIfSeekingAdvice(String message, List&amp;lt;Map&amp;lt;String, dynamic&amp;gt;&amp;gt; history)&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-4" vertex="1">
                    <mxGeometry x="330" y="110" width="230" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-26" value="List&amp;lt;String&amp;gt; adviceKeywords" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="lz9357n2-lCbHssZZ0-b-25" vertex="1">
                    <mxGeometry y="40" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-48" style="edgeStyle=none;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="JVTlXHw-7Xtz8h1ackMm-4" source="lz9357n2-lCbHssZZ0-b-43" target="lz9357n2-lCbHssZZ0-b-8" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-43" value="&lt;div&gt;bool analyzeIfCasualConversation(String message, List&amp;lt;Map&amp;lt;String, dynamic&amp;gt;&amp;gt; history)&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="JVTlXHw-7Xtz8h1ackMm-4" vertex="1">
                    <mxGeometry x="330" y="190" width="230" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-44" value="List&amp;lt;String&amp;gt; conversationalKeywords" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="lz9357n2-lCbHssZZ0-b-43" vertex="1">
                    <mxGeometry y="40" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-49" value="claudeAPIを使って最新のメッセージとチャット履歴から返答のプロンプトを切り替える" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry y="-330" width="190" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-50" value="claude_api_service" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="30" y="-290" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-51" value="claude_chat_provider" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="220" y="-290" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-52" value="chat_service" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="270" y="-510" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-53" value="auth_service" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="30" y="-90" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-54" value="auth_provider" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="220" y="-120" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-55" value="chat_provider" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="450" y="-495" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-56" value="user" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="510" y="-260" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-58" value="chat_message" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="510" y="-205" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-59" value="ユーザーと実在する誰かとのチャット機能の基本的な実装" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="250" y="-550" width="150" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-60" value="claude_api_serviceを利用した処理と更新、メッセージ履歴形式、chat_message形式にする、会話履歴をクリアする" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="195" y="-330" width="185" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-61" value="chat_Serviceを利用した処理と更新、ロード待機などProviderに登録してアプリ全体でデータを取得、反映できる" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="420" y="-540" width="190" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lz9357n2-lCbHssZZ0-b-62" value="このchatProviderをChangeNotifierProviderでProviderに登録すれば、&lt;strong data-end=&quot;3153&quot; data-start=&quot;3118&quot;&gt;アプリ全体でチャットデータを管理し、UI にリアルタイムで反映&lt;/strong&gt; できるようになります。" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="180" y="-410" width="360" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="X-lSmhhu1Ga_QCH2wFfo-1" value="buddy_chat_screen" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="30" y="-205" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="X-lSmhhu1Ga_QCH2wFfo-2" value="Text" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="50" y="-240" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="F2jEgE30PFygHAKyPj01-1" value="auth_service.dart データフロー図" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="10" y="-1130" width="240" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="F2jEgE30PFygHAKyPj01-3" value="" style="swimlane;startSize=0;" parent="1" vertex="1">
                    <mxGeometry x="40" y="-1090" width="820" height="470" as="geometry"/>
                </mxCell>
                <mxCell id="F2jEgE30PFygHAKyPj01-4" value="class AuthService" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="F2jEgE30PFygHAKyPj01-3" vertex="1">
                    <mxGeometry x="5" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="F2jEgE30PFygHAKyPj01-5" value="Future&amp;lt;UserCredential&amp;gt; signUpWithEmailAndPassword({&lt;div&gt;required Stringemail,&lt;/div&gt;&lt;div&gt;required String password,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;)} async&lt;/span&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=70;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="F2jEgE30PFygHAKyPj01-3" vertex="1">
                    <mxGeometry x="10" y="30" width="260" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="F2jEgE30PFygHAKyPj01-6" value="新規ユーザーを作成する機能" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="F2jEgE30PFygHAKyPj01-5" vertex="1">
                    <mxGeometry y="70" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="F2jEgE30PFygHAKyPj01-7" value="メールアドレスとパスワードを受け取り、Firebaseに新規ユーザーを登録" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="F2jEgE30PFygHAKyPj01-5" vertex="1">
                    <mxGeometry y="100" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="F2jEgE30PFygHAKyPj01-8" value="エラー発生時、_handleAuthExceptionで適切なエラーメッセージに変換" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" parent="F2jEgE30PFygHAKyPj01-5" vertex="1">
                    <mxGeometry y="130" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-2" value="&lt;span style=&quot;color: rgb(63, 63, 63);&quot;&gt;Stream&amp;lt;User?&amp;gt; get authStateChanges =&amp;gt; _auth.authStateChanges();&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="F2jEgE30PFygHAKyPj01-3">
                    <mxGeometry x="460" width="250" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-3" value="User? get currentUser =&amp;gt; _auth.currentUser;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="F2jEgE30PFygHAKyPj01-3">
                    <mxGeometry x="190" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-12" value="Future&amp;lt;UserCredential&amp;gt; signInWithEmailAndPassword({&lt;div&gt;required Stringemail,&lt;/div&gt;&lt;div&gt;required String password,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;)} async&lt;/span&gt;&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=70;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="F2jEgE30PFygHAKyPj01-3">
                    <mxGeometry x="280" y="30" width="260" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-13" value="既存ユーザーのサインイン処理" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-12">
                    <mxGeometry y="70" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-14" value="メールアドレスとパスワードを使って認証" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-12">
                    <mxGeometry y="100" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-15" value="エラー発生時、_handleAuthExceptionで適切なエラーメッセージに変換" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-12">
                    <mxGeometry y="130" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-16" value="Future&amp;lt;UserCredential&amp;gt; signInWithGoogle() async" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="F2jEgE30PFygHAKyPj01-3">
                    <mxGeometry x="10" y="200" width="260" height="240" as="geometry">
                        <mxRectangle x="10" y="230" width="310" height="70" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-20" value="GoogleSignInAccount? googleUser = await _googleSignIn.signIn();" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-16">
                    <mxGeometry y="50" width="260" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-17" value="GoogleSignInAuthentication googleAuth = await googleUser.authentication;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-16">
                    <mxGeometry y="90" width="260" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-22" value="credential = GoogleAiuthProvider.credential(&lt;div&gt;accessToken: googleAuth.accessToken,&lt;/div&gt;&lt;div&gt;idToken: googleAuth.idtoken,&lt;/div&gt;&lt;div&gt;);&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-16">
                    <mxGeometry y="130" width="260" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-21" value="Googleアカウントを使ったFirebaseサインイン機能" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-16">
                    <mxGeometry y="180" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-19" value="Firebase 認証エラーと一般的なエラーを分けて処理" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-16">
                    <mxGeometry y="210" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-23" value="Futer&amp;lt;void&amp;gt; signOut() async" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="F2jEgE30PFygHAKyPj01-3">
                    <mxGeometry x="280" y="200" width="260" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-24" value="ユーザーをサインアウトする機能" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-23">
                    <mxGeometry y="50" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-25" value="GoogleとFirebaseの両方からサインアウト処理を行う" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-23">
                    <mxGeometry y="80" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-27" value="Future&amp;lt;void&amp;gt; sendPasswordResetEmail&lt;div&gt;(String email) async&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="F2jEgE30PFygHAKyPj01-3">
                    <mxGeometry x="280" y="320" width="260" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-28" value="パスワードリセットするためのメールを送信する機能" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-27">
                    <mxGeometry y="50" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-29" value="&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;エラー発生時、_handleAuthExceptionで適切なエラーメッセージに変換&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-27">
                    <mxGeometry y="80" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-54" value="Exception _handleAuthException&lt;div&gt;(FirebaseAuthException e)&lt;/div&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="F2jEgE30PFygHAKyPj01-3">
                    <mxGeometry x="550" y="30" width="260" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-55" value="Firebase認証から返されるエラーコードを適切なメッセージに変換" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-54">
                    <mxGeometry y="50" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-56" value="未知のエラーはエラーメッセージをそのまま表示" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="d13G3GtGiOfGMznZqrHO-54">
                    <mxGeometry y="80" width="260" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="W4uDJ90vmmHPgK-RhbnZ-1" value="メールアドレスとパスワード、Google認証でのサインイン・新規ユーザー登録、サインアウト、ユーザー情報管理" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="-5" y="-140" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="d13G3GtGiOfGMznZqrHO-1" value="_auth = FirebaseAuth.instance;&lt;div&gt;_googleSignIn = GoogleSignIn();&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
                    <mxGeometry x="230" y="-1140" width="240" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="OTDhpThUT7W11-Fhvwmw" name="機能集">
        <mxGraphModel dx="1643" dy="427" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0" adaptiveColors="auto">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-1" value="チャット機能" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="10" width="80" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-2" value="ClaudeChatProvider" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="130" y="110" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-17" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ABFyu2Jb3F_MFs59AVdA-3" target="ABFyu2Jb3F_MFs59AVdA-15" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-3" value="チャット画面" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="230" y="240" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-10" style="edgeStyle=none;html=1;exitX=0.13;exitY=0.77;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ABFyu2Jb3F_MFs59AVdA-4" target="ABFyu2Jb3F_MFs59AVdA-2" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="150" y="90" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-12" style="edgeStyle=none;html=1;exitX=0.8;exitY=0.8;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ABFyu2Jb3F_MFs59AVdA-4" target="ABFyu2Jb3F_MFs59AVdA-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-4" value="ClaudeAPI" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="170" y="10" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-7" style="edgeStyle=none;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="ABFyu2Jb3F_MFs59AVdA-5" target="ABFyu2Jb3F_MFs59AVdA-2" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-5" value="ホーム画面" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="130" y="190" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-11" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ABFyu2Jb3F_MFs59AVdA-6" target="ABFyu2Jb3F_MFs59AVdA-2" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-6" value="Claude_API_Service" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="110" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-8" style="edgeStyle=none;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.13;entryY=0.77;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="ABFyu2Jb3F_MFs59AVdA-2" target="ABFyu2Jb3F_MFs59AVdA-4" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-13" value="入力" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="140" y="150" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-14" value="プロンプト判定、API送信" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="-20" y="80" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-46" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="ABFyu2Jb3F_MFs59AVdA-15" target="ABFyu2Jb3F_MFs59AVdA-16" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-15" value="HiveBox(&quot;ChatBox&quot;)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="230" y="340" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-16" value="過去チャット画面" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="120" y="410" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-18" value="id,content,&lt;div&gt;isUserMessage,&lt;/div&gt;&lt;div&gt;timestamp&lt;/div&gt;&lt;div&gt;を保存する&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="190" y="290" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-20" value="&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;id,content,&lt;/span&gt;&lt;div&gt;isUserMessage,&lt;/div&gt;&lt;div&gt;timestamp&lt;/div&gt;&lt;div&gt;を使って順番、ユーザーとBuddyの位置に表示&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="280" y="140" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-22" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ABFyu2Jb3F_MFs59AVdA-21" target="ABFyu2Jb3F_MFs59AVdA-2" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="100" y="215"/>
                            <mxPoint x="100" y="125"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-21" value="chat_Message" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="200" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-23" value="&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;id,content,&lt;/span&gt;&lt;div&gt;isUserMessage,&lt;/div&gt;&lt;div&gt;timestamp&lt;/div&gt;&lt;div&gt;のデータクラス&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="-30" y="160" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-25" value="ClaudeChatProvider" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="480" y="10" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-26" value="" style="swimlane;startSize=0;" parent="1" vertex="1">
                    <mxGeometry x="480" y="10" width="200" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-27" value="メッセージ履歴形式に変換" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ABFyu2Jb3F_MFs59AVdA-26" vertex="1">
                    <mxGeometry x="100" y="40" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-28" value="sendMessage" style="rounded=0;whiteSpace=wrap;html=1;" parent="ABFyu2Jb3F_MFs59AVdA-26" vertex="1">
                    <mxGeometry y="85" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-29" value="_messageHistory" style="rounded=0;whiteSpace=wrap;html=1;" parent="ABFyu2Jb3F_MFs59AVdA-26" vertex="1">
                    <mxGeometry y="40" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-30" value="メッセージを送信、応答取得" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ABFyu2Jb3F_MFs59AVdA-26" vertex="1">
                    <mxGeometry x="100" y="85" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-31" value="clearChat" style="rounded=0;whiteSpace=wrap;html=1;" parent="ABFyu2Jb3F_MFs59AVdA-26" vertex="1">
                    <mxGeometry y="140" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-32" value="会話履歴をクリアする" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ABFyu2Jb3F_MFs59AVdA-26" vertex="1">
                    <mxGeometry x="100" y="140" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-36" style="edgeStyle=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ABFyu2Jb3F_MFs59AVdA-35" target="ABFyu2Jb3F_MFs59AVdA-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-35" value="chat_Bubble" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="10" y="260" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-38" value="" style="swimlane;startSize=0;" parent="1" vertex="1">
                    <mxGeometry x="400" y="240" width="200" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-39" value="メッセージ履歴形式に変換" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ABFyu2Jb3F_MFs59AVdA-38" vertex="1">
                    <mxGeometry x="100" y="40" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-40" value="sendMessage" style="rounded=0;whiteSpace=wrap;html=1;" parent="ABFyu2Jb3F_MFs59AVdA-38" vertex="1">
                    <mxGeometry y="85" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-41" value="_messageHistory" style="rounded=0;whiteSpace=wrap;html=1;" parent="ABFyu2Jb3F_MFs59AVdA-38" vertex="1">
                    <mxGeometry y="40" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-42" value="メッセージを送信、応答取得" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ABFyu2Jb3F_MFs59AVdA-38" vertex="1">
                    <mxGeometry x="100" y="85" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-43" value="clearChat" style="rounded=0;whiteSpace=wrap;html=1;" parent="ABFyu2Jb3F_MFs59AVdA-38" vertex="1">
                    <mxGeometry y="140" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-44" value="会話履歴をクリアする" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="ABFyu2Jb3F_MFs59AVdA-38" vertex="1">
                    <mxGeometry x="100" y="140" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ABFyu2Jb3F_MFs59AVdA-45" value="BuddyChatScreen" style="rounded=0;whiteSpace=wrap;html=1;" parent="ABFyu2Jb3F_MFs59AVdA-38" vertex="1">
                    <mxGeometry width="120" height="30" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>